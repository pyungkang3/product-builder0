<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-44S53ER43X"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-44S53ER43X');
    </script>
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
      (function(c,l,a,r,i,t,y){
          c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
          t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
          y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "vi0ehtjhrx");
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="canonical" href="https://joa.chat/animal-test.html">
    <meta name="description" content="AIê°€ ë‹¹ì‹ ì˜ ì–¼êµ´ì„ ë¶„ì„í•˜ì—¬ ê°•ì•„ì§€ìƒì¸ì§€ ê³ ì–‘ì´ìƒì¸ì§€ íŒë³„í•©ë‹ˆë‹¤. ì‚¬ì§„ í•œ ì¥ìœ¼ë¡œ ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸ë¥¼ ë¬´ë£Œë¡œ ì²´í—˜í•˜ì„¸ìš”! TensorFlow.js ê¸°ë°˜ ë¸Œë¼ìš°ì € ë¶„ì„ìœ¼ë¡œ ê°œì¸ì •ë³´ ê±±ì • ì—†ìŠµë‹ˆë‹¤.">
    <meta name="keywords" content="ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸, AI ì–¼êµ´ ë¶„ì„, ê°•ì•„ì§€ìƒ, ê³ ì–‘ì´ìƒ, ë™ë¬¼ìƒ íŒë³„, ì–¼êµ´ ë™ë¬¼ìƒ, AI ê´€ìƒ">
    <meta name="robots" content="index, follow">
    <meta name="author" content="AnimaMenu">
    <meta name="theme-color" content="#667eea">

    <!-- Open Graph -->
    <meta property="og:title" content="AI ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸ - ë‚˜ëŠ” ê°•ì•„ì§€ìƒ? ê³ ì–‘ì´ìƒ?">
    <meta property="og:description" content="AIê°€ ë‹¹ì‹ ì˜ ì–¼êµ´ì„ ë¶„ì„í•˜ì—¬ ê°•ì•„ì§€ìƒì¸ì§€ ê³ ì–‘ì´ìƒì¸ì§€ íŒë³„í•©ë‹ˆë‹¤. ì‚¬ì§„ í•œ ì¥ìœ¼ë¡œ ë¬´ë£Œ ì²´í—˜!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://joa.chat/animal-test.html">
    <meta property="og:site_name" content="AnimaMenu">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:image" content="https://joa.chat/favicon.ico">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="AI ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸ - ë‚˜ëŠ” ê°•ì•„ì§€ìƒ? ê³ ì–‘ì´ìƒ?">
    <meta name="twitter:description" content="AIê°€ ë‹¹ì‹ ì˜ ì–¼êµ´ì„ ë¶„ì„í•˜ì—¬ ë™ë¬¼ìƒì„ íŒë³„í•©ë‹ˆë‹¤. ë¬´ë£Œ ì²´í—˜!">
    <meta name="twitter:image" content="https://joa.chat/favicon.ico">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "AI ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸",
      "url": "https://joa.chat/animal-test.html",
      "description": "AIê°€ ë‹¹ì‹ ì˜ ì–¼êµ´ì„ ë¶„ì„í•˜ì—¬ ê°•ì•„ì§€ìƒì¸ì§€ ê³ ì–‘ì´ìƒì¸ì§€ íŒë³„í•˜ëŠ” ë¬´ë£Œ ì„œë¹„ìŠ¤",
      "applicationCategory": "EntertainmentApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      },
      "inLanguage": "ko"
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "í™ˆ",
          "item": "https://joa.chat/index.html"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "AI ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸",
          "item": "https://joa.chat/animal-test.html"
        }
      ]
    }
    </script>

    <title>AI ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸ | ë‚˜ëŠ” ê°•ì•„ì§€ìƒ? ê³ ì–‘ì´ìƒ? - AnimaMenu</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .app {
            background: #fff;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            padding: 48px 36px;
            width: 100%;
            max-width: 420px;
            text-align: center;
        }

        .emoji-title { font-size: 48px; margin-bottom: 8px; }

        h1 {
            font-size: 28px;
            font-weight: 800;
            color: #1a1a2e;
            margin-bottom: 8px;
        }

        .desc {
            font-size: 15px;
            color: #888;
            margin-bottom: 32px;
            line-height: 1.5;
        }

        /* Upload area */
        .upload-area {
            border: 2.5px dashed #d0d0d0;
            border-radius: 16px;
            padding: 40px 20px;
            cursor: pointer;
            transition: border-color 0.2s, background 0.2s;
            margin-bottom: 20px;
        }

        .upload-area:hover {
            border-color: #667eea;
            background: #f8f8ff;
        }

        .upload-area.has-image {
            border-style: solid;
            border-color: #667eea;
            padding: 16px;
        }

        .upload-icon { font-size: 48px; margin-bottom: 12px; }

        .upload-text {
            font-size: 16px;
            font-weight: 600;
            color: #555;
            margin-bottom: 4px;
        }

        .upload-hint {
            font-size: 13px;
            color: #aaa;
        }

        #file-input { display: none; }

        #preview-img {
            max-width: 100%;
            max-height: 280px;
            border-radius: 12px;
            display: none;
        }

        #analyze-btn {
            padding: 16px 48px;
            font-size: 18px;
            font-weight: 700;
            border: none;
            border-radius: 50px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            display: none;
        }

        #analyze-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5); }
        #analyze-btn:active { transform: scale(0.97); }
        #analyze-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

        .loading-text {
            font-size: 14px;
            color: #888;
            margin-top: 16px;
            display: none;
        }

        .loading-text .dot-animation::after {
            content: '';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
        }

        /* Result */
        #result {
            display: none;
            margin-top: 32px;
            animation: fadeUp 0.6s ease;
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-emoji { font-size: 72px; margin-bottom: 12px; }

        .result-type {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 4px;
        }

        .result-type.dog { color: #ff6b35; }
        .result-type.cat { color: #667eea; }

        .result-percent {
            font-size: 48px;
            font-weight: 800;
            margin: 8px 0;
        }

        .result-percent.dog { color: #ff6b35; }
        .result-percent.cat { color: #667eea; }

        .result-bar-wrap {
            background: #f0f0f0;
            border-radius: 12px;
            height: 16px;
            width: 100%;
            margin: 16px 0;
            overflow: hidden;
        }

        .result-bar {
            height: 100%;
            border-radius: 12px;
            transition: width 1s ease;
        }

        .result-bar.dog { background: linear-gradient(90deg, #ff6b35, #ff9a5c); }
        .result-bar.cat { background: linear-gradient(90deg, #667eea, #a78bfa); }

        .result-desc {
            font-size: 15px;
            color: #555;
            line-height: 1.7;
            margin: 16px 0;
            padding: 20px;
            background: #f8f8fa;
            border-radius: 12px;
            text-align: left;
        }

        .result-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-top: 12px;
        }

        .tag {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .tag.dog { background: #fff3ee; color: #ff6b35; }
        .tag.cat { background: #eef0ff; color: #667eea; }

        #retry-btn {
            margin-top: 24px;
            padding: 12px 36px;
            font-size: 15px;
            font-weight: 600;
            border: 2px solid #ddd;
            border-radius: 50px;
            background: #fff;
            color: #555;
            cursor: pointer;
            transition: all 0.2s;
        }

        #retry-btn:hover { border-color: #764ba2; color: #764ba2; }

        @media (max-width: 460px) {
            .app { padding: 32px 20px; }
            h1 { font-size: 24px; }
            .result-type { font-size: 26px; }
            .result-percent { font-size: 40px; }
        }
    </style>
</head>
<body>
    <main class="app">
        <div class="emoji-title">ğŸ¶ğŸ±</div>
        <h1>AI ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸</h1>
        <p class="desc">ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ë©´<br>AIê°€ ë‹¹ì‹ ì˜ ë™ë¬¼ìƒì„ ë¶„ì„í•©ë‹ˆë‹¤!</p>

        <div class="upload-area" id="upload-area" onclick="document.getElementById('file-input').click()">
            <div class="upload-icon">ğŸ“·</div>
            <p class="upload-text">ì‚¬ì§„ì„ ì„ íƒí•´ ì£¼ì„¸ìš”</p>
            <p class="upload-hint">í´ë¦­í•˜ê±°ë‚˜ íŒŒì¼ì„ ë“œë˜ê·¸í•˜ì„¸ìš”</p>
            <img id="preview-img" alt="ë¯¸ë¦¬ë³´ê¸°">
        </div>
        <input type="file" id="file-input" accept="image/*">

        <button id="analyze-btn" onclick="analyze()">ë¶„ì„í•˜ê¸°</button>

        <p class="loading-text" id="loading">
            AIê°€ ë¶„ì„ ì¤‘<span class="dot-animation"></span>
        </p>

        <div id="result">
            <div class="result-emoji" id="result-emoji"></div>
            <div class="result-type" id="result-type"></div>
            <div class="result-percent" id="result-percent"></div>
            <div class="result-bar-wrap">
                <div class="result-bar" id="result-bar"></div>
            </div>
            <div class="result-desc" id="result-desc"></div>
            <div class="result-tags" id="result-tags"></div>
            <button id="retry-btn" onclick="retry()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
        </div>
    </main>

    <footer style="text-align:center;padding:20px;font-size:13px;color:#fff;opacity:0.7;">
        <a href="index.html" style="color:#fff;margin:0 8px;">í™ˆ</a>
        <a href="privacy.html" style="color:#fff;margin:0 8px;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
    </footer>

    <script>
        const MODEL_URL = "https://teachablemachine.withgoogle.com/models/jv_X2MJHQ/";
        let model;

        const animalData = {
            "ê°•ì•„ì§€": {
                emoji: "ğŸ¶",
                label: "ê°•ì•„ì§€ìƒ",
                color: "dog",
                desc: "ë‹¹ì‹ ì€ ê°•ì•„ì§€ìƒ! ë°ê³  í™œê¸°ì°¬ ì—ë„ˆì§€ì˜ ì†Œìœ ìì…ë‹ˆë‹¤. ì‚¬ëŒë“¤ì—ê²Œ ë¨¼ì € ë‹¤ê°€ê°€ê³ , ì¹œí™”ë ¥ì´ ë„˜ì¹˜ë©°, í•¨ê»˜ ìˆìœ¼ë©´ ê¸°ë¶„ì´ ì¢‹ì•„ì§€ëŠ” ì‚¬ëŒì´ì—ìš”. ì¶©ì„±ì‹¬ì´ ê°•í•˜ê³  ì†”ì§í•œ ì„±ê²©ìœ¼ë¡œ ì£¼ë³€ì— íŒ¬ì´ ë§ìŠµë‹ˆë‹¤.",
                tags: ["#ì¹œí™”ë ¥MAX", "#ë°ì€ì—ë„ˆì§€", "#ì¶©ì„±íŒŒ", "#ì‚¬êµì ", "#ì†”ì§ë‹´ë°±"]
            },
            "ê³ ì–‘ì´": {
                emoji: "ğŸ±",
                label: "ê³ ì–‘ì´ìƒ",
                color: "cat",
                desc: "ë‹¹ì‹ ì€ ê³ ì–‘ì´ìƒ! ë„ë„í•˜ë©´ì„œë„ ë§¤ë ¥ì ì¸ ë¶„ìœ„ê¸°ì˜ ì†Œìœ ìì…ë‹ˆë‹¤. ë…ë¦½ì ì´ê³  ìê¸°ë§Œì˜ ì„¸ê³„ê°€ í™•ê³ í•˜ë©°, ì€ê·¼í•œ ì¹´ë¦¬ìŠ¤ë§ˆë¡œ ì‚¬ëŒë“¤ì„ ëŒì–´ë‹¹ê¹ë‹ˆë‹¤. ê°€ê¹Œìš´ ì‚¬ëŒì—ê²Œë§Œ ë³´ì—¬ì£¼ëŠ” ë°˜ì „ ë§¤ë ¥ì´ í¬ì¸íŠ¸!",
                tags: ["#ë„ë„í•œë§¤ë ¥", "#ë…ë¦½ì ", "#ì€ê·¼ì¹´ë¦¬ìŠ¤ë§ˆ", "#ë°˜ì „ë§¤ë ¥", "#ë¯¸ìŠ¤í„°ë¦¬"]
            }
        };

        const classNameMap = {
            "dog": "ê°•ì•„ì§€", "Dog": "ê°•ì•„ì§€", "ê°•ì•„ì§€": "ê°•ì•„ì§€",
            "cat": "ê³ ì–‘ì´", "Cat": "ê³ ì–‘ì´", "ê³ ì–‘ì´": "ê³ ì–‘ì´"
        };

        // File input handler
        const fileInput = document.getElementById("file-input");
        const previewImg = document.getElementById("preview-img");
        const uploadArea = document.getElementById("upload-area");
        const analyzeBtn = document.getElementById("analyze-btn");

        fileInput.addEventListener("change", function(e) {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(ev) {
                previewImg.src = ev.target.result;
                previewImg.style.display = "block";
                uploadArea.classList.add("has-image");
                uploadArea.querySelector(".upload-icon").style.display = "none";
                uploadArea.querySelector(".upload-text").style.display = "none";
                uploadArea.querySelector(".upload-hint").style.display = "none";
                analyzeBtn.style.display = "inline-block";
            };
            reader.readAsDataURL(file);
        });

        // Drag & drop
        uploadArea.addEventListener("dragover", function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = "#667eea";
            uploadArea.style.background = "#f0f0ff";
        });

        uploadArea.addEventListener("dragleave", function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = "";
            uploadArea.style.background = "";
        });

        uploadArea.addEventListener("drop", function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = "";
            uploadArea.style.background = "";
            const file = e.dataTransfer.files[0];
            if (file && file.type.startsWith("image/")) {
                fileInput.files = e.dataTransfer.files;
                fileInput.dispatchEvent(new Event("change"));
            }
        });

        async function analyze() {
            analyzeBtn.disabled = true;
            analyzeBtn.textContent = "ë¶„ì„ ì¤‘...";
            document.getElementById("loading").style.display = "block";

            try {
                if (!model) {
                    const modelURL = MODEL_URL + "model.json";
                    const metadataURL = MODEL_URL + "metadata.json";
                    model = await tmImage.load(modelURL, metadataURL);
                }

                const prediction = await model.predict(previewImg);

                let best = prediction[0];
                for (let i = 1; i < prediction.length; i++) {
                    if (prediction[i].probability > best.probability) best = prediction[i];
                }

                const className = classNameMap[best.className] || best.className;
                const data = animalData[className] || animalData["ê°•ì•„ì§€"];
                const percent = Math.round(best.probability * 100);

                // Hide upload UI
                uploadArea.style.display = "none";
                analyzeBtn.style.display = "none";
                document.getElementById("loading").style.display = "none";

                // Show result
                document.getElementById("result-emoji").textContent = data.emoji;

                const typeEl = document.getElementById("result-type");
                typeEl.textContent = data.label;
                typeEl.className = "result-type " + data.color;

                const percentEl = document.getElementById("result-percent");
                percentEl.textContent = percent + "%";
                percentEl.className = "result-percent " + data.color;

                const bar = document.getElementById("result-bar");
                bar.className = "result-bar " + data.color;
                bar.style.width = "0%";

                document.getElementById("result-desc").textContent = data.desc;

                const tagsEl = document.getElementById("result-tags");
                tagsEl.innerHTML = "";
                data.tags.forEach(tag => {
                    const span = document.createElement("span");
                    span.className = "tag " + data.color;
                    span.textContent = tag;
                    tagsEl.appendChild(span);
                });

                document.getElementById("result").style.display = "block";
                setTimeout(() => { bar.style.width = percent + "%"; }, 100);

            } catch (e) {
                alert("ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.");
                analyzeBtn.disabled = false;
                analyzeBtn.textContent = "ë¶„ì„í•˜ê¸°";
                document.getElementById("loading").style.display = "none";
            }
        }

        function retry() {
            document.getElementById("result").style.display = "none";
            uploadArea.style.display = "";
            uploadArea.classList.remove("has-image");
            uploadArea.querySelector(".upload-icon").style.display = "";
            uploadArea.querySelector(".upload-text").style.display = "";
            uploadArea.querySelector(".upload-hint").style.display = "";
            previewImg.style.display = "none";
            previewImg.src = "";
            fileInput.value = "";
            analyzeBtn.style.display = "none";
            analyzeBtn.disabled = false;
            analyzeBtn.textContent = "ë¶„ì„í•˜ê¸°";
        }
    </script>
</body>
</html>
